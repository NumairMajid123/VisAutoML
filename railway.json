{
    "$schema": "https://railway.app/railway.schema.json",
    "build": {
        "builder": "RAILPACK",
        "buildCommand": "/bin/sh -c 'python3 -m ensurepip --upgrade && python3 -m pip install --upgrade pip && python3 -m pip install --no-cache-dir -r Backend/requirements.txt'"
    },
    "deploy": {
        "startCommand": "/bin/sh -c 'cd Backend && python3 manage.py migrate && python3 manage.py collectstatic --noinput && gunicorn VisAutoML.wsgi:application --bind 0.0.0.0:$PORT'",
        "restartPolicyType": "ON_FAILURE",
        "restartPolicyMaxRetries": 10
    },
    "environment": {
        "DJANGO_SETTINGS_MODULE": "VisAutoML.settings",
        "PYTHON_VERSION": "3.9",
        "DEBUG": "0"
    }
}
